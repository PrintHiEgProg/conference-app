{"ast":null,"code":"// src/Chat.js\nimport React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import io from\"socket.io-client\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const socket=io(\"http://localhost:3001\");const Chat=()=>{const{roomID}=useParams();const[messages,setMessages]=useState([]);const[message,setMessage]=useState(\"\");useEffect(()=>{socket.emit(\"joinRoom\",{roomID});socket.on(\"message\",message=>{setMessages(prevMessages=>[...prevMessages,message]);});return()=>{socket.off();};},[roomID]);const sendMessage=e=>{e.preventDefault();if(message){socket.emit(\"sendMessage\",{roomID,message});setMessage(\"\");}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Chat Room: \",roomID]}),/*#__PURE__*/_jsx(\"div\",{children:messages.map((msg,index)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-container\"}),/*#__PURE__*/_jsxs(\"strong\",{children:[msg.user,\": \"]}),msg.text]},index))}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:sendMessage,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:message,onChange:e=>setMessage(e.target.value),placeholder:\"Type a message...\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Send\"})]})]});};export default Chat;","map":{"version":3,"names":["React","useEffect","useState","useParams","io","jsxs","_jsxs","jsx","_jsx","socket","Chat","roomID","messages","setMessages","message","setMessage","emit","on","prevMessages","off","sendMessage","e","preventDefault","children","map","msg","index","className","user","text","onSubmit","type","value","onChange","target","placeholder"],"sources":["/Users/egorkobzev/conference-app/src/Chat.js"],"sourcesContent":["// src/Chat.js\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport io from \"socket.io-client\";\n\nconst socket = io(\"http://localhost:3001\"); \n\nconst Chat = () => {\n  const { roomID } = useParams();\n  const [messages, setMessages] = useState([]);\n  const [message, setMessage] = useState(\"\");\n\n  useEffect(() => {\n    socket.emit(\"joinRoom\", { roomID });\n\n    socket.on(\"message\", (message) => {\n      setMessages((prevMessages) => [...prevMessages, message]);\n    });\n\n    return () => {\n      socket.off();\n    };\n  }, [roomID]);\n\n  const sendMessage = (e) => {\n    e.preventDefault();\n    if (message) {\n      socket.emit(\"sendMessage\", { roomID, message });\n      setMessage(\"\");\n    }\n  };\n\n  return (\n    <div>\n      <h1>Chat Room: {roomID}</h1>\n      <div>\n        {messages.map((msg, index) => (\n          <div key={index}>\n            <div className=\"message-container\"></div><strong>{msg.user}: </strong>\n            {msg.text}\n          </div>\n        ))}\n      </div>\n      <form onSubmit={sendMessage}>\n        <input\n          type=\"text\"\n          value={message}\n          onChange={(e) => setMessage(e.target.value)}\n          placeholder=\"Type a message...\"\n        />\n        <button type=\"submit\">Send</button>\n      </form>\n    </div>\n  );\n};\n\nexport default Chat;\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,MAAO,CAAAC,EAAE,KAAM,kBAAkB,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAElC,KAAM,CAAAC,MAAM,CAAGL,EAAE,CAAC,uBAAuB,CAAC,CAE1C,KAAM,CAAAM,IAAI,CAAGA,CAAA,GAAM,CACjB,KAAM,CAAEC,MAAO,CAAC,CAAGR,SAAS,CAAC,CAAC,CAC9B,KAAM,CAACS,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAE1CD,SAAS,CAAC,IAAM,CACdQ,MAAM,CAACO,IAAI,CAAC,UAAU,CAAE,CAAEL,MAAO,CAAC,CAAC,CAEnCF,MAAM,CAACQ,EAAE,CAAC,SAAS,CAAGH,OAAO,EAAK,CAChCD,WAAW,CAAEK,YAAY,EAAK,CAAC,GAAGA,YAAY,CAAEJ,OAAO,CAAC,CAAC,CAC3D,CAAC,CAAC,CAEF,MAAO,IAAM,CACXL,MAAM,CAACU,GAAG,CAAC,CAAC,CACd,CAAC,CACH,CAAC,CAAE,CAACR,MAAM,CAAC,CAAC,CAEZ,KAAM,CAAAS,WAAW,CAAIC,CAAC,EAAK,CACzBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAIR,OAAO,CAAE,CACXL,MAAM,CAACO,IAAI,CAAC,aAAa,CAAE,CAAEL,MAAM,CAAEG,OAAQ,CAAC,CAAC,CAC/CC,UAAU,CAAC,EAAE,CAAC,CAChB,CACF,CAAC,CAED,mBACET,KAAA,QAAAiB,QAAA,eACEjB,KAAA,OAAAiB,QAAA,EAAI,aAAW,CAACZ,MAAM,EAAK,CAAC,cAC5BH,IAAA,QAAAe,QAAA,CACGX,QAAQ,CAACY,GAAG,CAAC,CAACC,GAAG,CAAEC,KAAK,gBACvBpB,KAAA,QAAAiB,QAAA,eACEf,IAAA,QAAKmB,SAAS,CAAC,mBAAmB,CAAM,CAAC,cAAArB,KAAA,WAAAiB,QAAA,EAASE,GAAG,CAACG,IAAI,CAAC,IAAE,EAAQ,CAAC,CACrEH,GAAG,CAACI,IAAI,GAFDH,KAGL,CACN,CAAC,CACC,CAAC,cACNpB,KAAA,SAAMwB,QAAQ,CAAEV,WAAY,CAAAG,QAAA,eAC1Bf,IAAA,UACEuB,IAAI,CAAC,MAAM,CACXC,KAAK,CAAElB,OAAQ,CACfmB,QAAQ,CAAGZ,CAAC,EAAKN,UAAU,CAACM,CAAC,CAACa,MAAM,CAACF,KAAK,CAAE,CAC5CG,WAAW,CAAC,mBAAmB,CAChC,CAAC,cACF3B,IAAA,WAAQuB,IAAI,CAAC,QAAQ,CAAAR,QAAA,CAAC,MAAI,CAAQ,CAAC,EAC/B,CAAC,EACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAAb,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}